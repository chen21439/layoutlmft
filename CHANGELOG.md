# æ›´æ–°æ—¥å¿—

## [2024-11-14] è®ºæ–‡å‚æ•°å¯¹é½æ›´æ–°

### âœ… å®Œæˆé¡¹

#### 1. Cloudé…ç½®ä¸¥æ ¼å¯¹é½HRDocè®ºæ–‡

**æ›´æ–°å†…å®¹**:
- `max_steps`: 50 â†’ **30,000** (HRDoc-Simple)
- `per_device_train_batch_size`: ç¡®è®¤ä¸º **3** (è®ºæ–‡ç²¾ç¡®å€¼)
- `gradient_accumulation_steps`: **1** (ä¸ç´¯ç§¯)
- `output_dir`: `hrdoc_cloud` â†’ `hrdoc_simple_full`

**é…ç½®æ–‡ä»¶**: `configs/cloud_config.json`

#### 2. æ–°å¢HRDoc-Hardé…ç½®

**å‚æ•°**:
- `max_steps`: **40,000** (è®ºæ–‡å€¼)
- `output_dir`: `hrdoc_hard_full`
- å…¶ä»–å‚æ•°ä¸Simpleä¸€è‡´

**é…ç½®æ–‡ä»¶**: `configs/cloud_hard_config.json`

#### 3. æ–°å¢è®ºæ–‡å¯¹é½è®­ç»ƒè„šæœ¬

**æ–‡ä»¶**: `train_hrdoc_official.sh`

**åŠŸèƒ½**:
- æ”¯æŒSimple/Hardç‰ˆæœ¬åˆ‡æ¢
- è‡ªåŠ¨éªŒè¯è®­ç»ƒå‚æ•°
- è®­ç»ƒå®Œæˆåæ£€æŸ¥é…ç½®æ­£ç¡®æ€§

**ç”¨æ³•**:
```bash
./train_hrdoc_official.sh simple  # 30kæ­¥
./train_hrdoc_official.sh hard    # 40kæ­¥
```

#### 4. è¡¥å……æœªå…¬å¼€å‚æ•°

åŸºäºLayoutLMv2å’ŒHFæœ€ä½³å®è·µï¼š
- `learning_rate`: **5e-5** (å¸¸ç”¨finetune lr)
- `warmup_ratio`: **0.1** (å‰10%æ­¥æ•°)
- `weight_decay`: **0.01** (BERTæ ‡å‡†)
- `lr_scheduler_type`: **linear** (HFé»˜è®¤)
- `optimizer`: **AdamW** (HFé»˜è®¤)

#### 5. æ–°å¢æ–‡æ¡£

- `configs/PAPER_ALIGNMENT.md`: è®ºæ–‡å¯¹é½è¯¦ç»†è¯´æ˜
- `CHANGELOG.md`: æœ¬æ–‡æ¡£

---

### ğŸ“Š å‚æ•°å¯¹æ¯”è¡¨

| å‚æ•° | æ—§é…ç½®(æµ‹è¯•) | æ–°é…ç½®(è®ºæ–‡) | æ”¹è¿› |
|------|------------|------------|------|
| max_steps | 50 | 30,000 | âœ… 600å€ |
| batch_size | æœªç¡®è®¤ | 3 | âœ… å¯¹é½ |
| è®­ç»ƒæ—¶é•¿ | ~8åˆ†é’Ÿ | ~4.5å°æ—¶ | âœ… å……åˆ†è®­ç»ƒ |
| é¢„æœŸF1 | ä½ | ~98% | âœ… è®ºæ–‡æ°´å¹³ |

---

### ğŸš€ ä½¿ç”¨å»ºè®®

#### å¿«é€Ÿæµ‹è¯•ï¼ˆæœ¬æœºï¼‰
```bash
./train_hrdoc.sh quick   # 50æ­¥ï¼Œ5åˆ†é’Ÿ
```

#### æ­£å¼è®­ç»ƒï¼ˆäº‘æœåŠ¡å™¨ï¼‰
```bash
./train_hrdoc_official.sh simple  # 30kæ­¥ï¼Œè®ºæ–‡å¯¹é½
```

#### éªŒè¯é…ç½®
```bash
python train.py --env cloud --show-config
```

---

### âš ï¸ é‡è¦æç¤º

1. **æ—§çš„æµ‹è¯•é…ç½®ä¸å†æ¨èç”¨äºæ­£å¼å®éªŒ**
2. **cloudé…ç½®ç°åœ¨ä¸¥æ ¼å¯¹é½è®ºæ–‡ï¼Œéœ€è¦4-6å°æ—¶è®­ç»ƒ**
3. **æœ¬æœºæµ‹è¯•è¯·ä½¿ç”¨local/quické…ç½®**

---

## [2024-11-14] å¤šç¯å¢ƒé…ç½®ç³»ç»Ÿ

### æ–°å¢åŠŸèƒ½

- è‡ªåŠ¨ç¯å¢ƒæ£€æµ‹ (local/cloud)
- ä¸‰ç§é¢„è®¾ç¯å¢ƒ (quick/local/cloud)
- å¤šåˆ†ç±»å…³ç³»è®­ç»ƒè„šæœ¬
- å‡ ä½•ç‰¹å¾é›†æˆ

è¯¦è§ `TRAINING_GUIDE.md`
