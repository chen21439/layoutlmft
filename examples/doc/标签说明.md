论文 vs 实际数据对比

  论文定义的14个类别（HRDoc原始论文）：
  1. Title, Author, Mail, Affiliation
  2. Section, First-Line, Para-Line
  3. Equation, Table, Figure, Caption
  4. Page-Footer, Page-Header, Footnote

  实际数据中的16个类别（通过check_labels.py扫描9186个文件得到）：
  1. AFFILI, AUTHOR, MAIL, TITLE
  2. SECTION, SECX (336次), FSTLINE, PARALINE, OPARA (19907次)
  3. EQUATION, TABLE, FIGURE, CAPTION, ALG (151次)
  4. FOOTER, FOOTNOTE

  关键差异

  论文有但数据没有的：
  - Page-Header (HEADER) - 实际数据中不存在

  数据有但论文没有的：
  - ALG (Algorithm，算法) - 151次出现
  - OPARA (Other Paragraph，其他段落) - 19907次出现
  - SECX (Section X，某种特殊章节) - 336次出现

  结论

  1. 实际数据集已经扩展：你使用的HRDS数据集版本比论文发表时的版本有所扩展，增加了ALG、OPARA、SECX三个新标签
  2. 微软的layoutlmft可能使用了旧版本或示例数据集：Microsoft的示例可能基于论文的14类定义，或者使用了简化的子集
  3. 我们的更新是正确的：我刚才更新的16个标签列表完全匹配你实际数据中的标签，这才是训练所需要的

  建议

  继续使用我们更新的16个标签版本，因为这与你的实际数据完全一致。论文的14个标签只是参考，实际数据才是训练的依据。

  现在需要将更新后的文件同步到云服务器：

  # 在云服务器上执行
  # 1. 备份旧文件
  cp /home/linux/code/layoutlmft/layoutlmft/data/datasets/hrdoc.py /home/linux/code/layoutlmft/layoutlmft/data/datasets/hrdoc.py.bak

  # 2. 清除缓存
  rm -rf /home/linux/.cache/huggingface/datasets/*

  # 3. 同步更新的hrdoc.py（从本机复制到云服务器）
  # 然后运行快速验证
  cd /home/linux/code/layoutlmft
  ./scripts/train_hrdoc.sh cloud_quick

  你需要先从本机将更新后的 hrdoc.py 复制到云服务器，然后执行上述命令。
