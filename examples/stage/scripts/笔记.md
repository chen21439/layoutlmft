# 训练
```shell
  cd /data/LLM_group/layoutlmft && \
  conda activate layoutxlm && \
  python examples/stage/train_joint.py \
      --env test \
      --min_steps 1000  \
      --gradient_checkpointing  \
      --per_device_train_batch_size 1 \
      --use_soft_mask true \
      --freeze_visual \
      --dataset tender \
      --covmatch doc_random_dev1_seed96 \
      --eval_before_train \
      --stage1_no_grad true  \
      --model_name_or_path /data/LLM_group/layoutlmft/artifact/exp_20251227_161829/joint_tender/checkpoint-825  \
      --report_to tensorboard

      > logs/train_joint_$(date +%Y%m%d_%H%M%S).log 2>&1 &
      
            --new_exp
            --model_path /data/LLM_group/layoutlmft/artifact/exp_20251226_145417/joint_tender/checkpoint-25 \
        python examples/stage/train_joint.py \
      --env test \
      --min_steps 1000  \
      --gradient_checkpointing  \
      --stage1_no_grad false  \
      --per_device_train_batch_size 1 \
      --model_path /data/LLM_group/layoutlmft/artifact/exp_20251226_145417/joint_hrds/checkpoint-1075 \
      --use_soft_mask true \
      --freeze_visual \
      --gpu 1  \
      --dataset hrdh \
      ----covmatch doc_covmatch_dev12_seed42 \
      > logs/train_joint_$(date +%Y%m%d_%H%M%S).log 2>&1 &
      
            
            --new_exp
            --freeze_visual \
```

# covmatch

```shell
  python examples/stage/scripts/create_dev_covmatch.py \
    --env test --dataset tender --mode random --dev_count 6 --seed 99

python examples/stage/scripts/create_dev_covmatch.py --env test \
  --dataset hrdh --dev_ratio 0.125 --seed 42
```

# 推理

```shell

      
 python examples/stage/scripts/infer.py \
      --env test \
      --checkpoint /data/LLM_group/layoutlmft/artifact/exp_20251227_161829/joint_tender/checkpoint-825 \
      --data_dir /data/LLM_group/layoutlmft/data/tender_document/inference_input \
      --output_dir /data/LLM_group/layoutlmft/data/tender_document/inference_artifact

      
            --skip_eval
```